{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _helperPluginUtils = require(\"@babel/helper-plugin-utils\");\n\nvar _helperReplaceSupers = _interopRequireDefault(require(\"@babel/helper-replace-supers\"));\n\nvar _core = require(\"@babel/core\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction replacePropertySuper(path, getObjectRef, file) {\n  const replaceSupers = new _helperReplaceSupers.default({\n    getObjectRef: getObjectRef,\n    methodPath: path,\n    file: file\n  });\n  replaceSupers.replace();\n}\n\nvar _default = (0, _helperPluginUtils.declare)(api => {\n  api.assertVersion(7);\n  return {\n    name: \"transform-object-super\",\n    visitor: {\n      ObjectExpression(path, state) {\n        let objectRef;\n\n        const getObjectRef = () => objectRef = objectRef || path.scope.generateUidIdentifier(\"obj\");\n\n        path.get(\"properties\").forEach(propPath => {\n          if (!propPath.isMethod()) return;\n          replacePropertySuper(propPath, getObjectRef, state);\n        });\n\n        if (objectRef) {\n          path.scope.push({\n            id: _core.types.cloneNode(objectRef)\n          });\n          path.replaceWith(_core.types.assignmentExpression(\"=\", _core.types.cloneNode(objectRef), path.node));\n        }\n      }\n\n    }\n  };\n});\n\nexports.default = _default;"]}